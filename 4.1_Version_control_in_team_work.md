# 4.1. Version control in team work

The goal of this submodule is to learn how to use version control in team work. The submodule is divided into three parts:
the first part is about the basics of version control, the second part is about branches. The third part covers merging and merge conflicts.

## 4.1.1. Basics of version control

In your earlier studies, you have learned the basics of version control. You probably know how to pull, commit, and push changes to a repository. As a quick recap, here are the most important commands:
- pull retrieves the latest changes from the remote repository
- commit saves the changes to the local repository
- push sends the changes to the remote repository

This set of commands is often enough, if you work in a small project as the only developer. However, in a larger project, you need to be able to work in a team. In this case, you need to know how to create branches, merge branches, and resolve merge conflicts.


## 4.1.2. Branches

In GitHub, branches are used to develop features isolated from each other. The `master` branch is the "default" branch when you create a repository. Use other branches for development and merge them back to the master branch upon completion.

Let's start with a simple example. We create a new project in IntelliJ Idea and add one class into its `src` folder. The class is called `GreetingMachine`, and it prints out a greeting message. The code is shown below:

```java
public class GreetingMachine {

    public void greet() {
        System.out.println("Hello World!");
    }

    public static void main(String[] args) {
        GreetingMachine gm = new GreetingMachine();
        gm.greet();
    }
}
```

Out of this project, we know create a repository in GitHub. We can do this by clicking the **VCS** menu and selecting **Share Project on GitHub**. After this, we can commit and push our changes to the remote repository.

As we share the project in GitHub, an initial branch called `master` is automatically created. This is the default branch in GitHub. We can see the branches in the "Branches" tab in GitHub:

![Branches](images/one_branch.png)

From now on, let's keep the production code in the `master` branch. We can create a new branch for development. Let's call it `feature`. In IntelliJ IDEA, we can create a new branch by clicking the **Git** menu and selecting **New Branch**:

![New branch](images/new_feature.png)

In the dialog box, the checkbox **Checkout branch** is selected by default. This means that we switch to the new branch after creating it. We can also create a new branch without switching to it. In this case, we need to switch to the new branch manually. The Git variable HEAD points to the current branch. We can see the current branch in the bottom right corner of IntelliJ IDEA:

![Current branch](images/git_head.png)

As this is our development branch, let the development begin! We can add a new method to the `GreetingMachine` class. The new method is also called `greet` but it takes a parameter of type `String`. The code is shown below:

```java
public class GreetingMachine {

    public void greet() {
        System.out.println("Hello World!");
    }

    public void greet(String message) {
        System.out.println(message + "!");
    }

    public static void main(String[] args) {
        GreetingMachine gm = new GreetingMachine();
        gm.greet();
        gm.greet("Good Morning Universe");
    }
}
```

The code works just fine, so we can commit and push our changes to the remote repository:

1. Click **Git / Commit** in the main menu.
2. Type a commit message in the **Commit Message** field. For example, "Add a custom greeting".
3. Click **Commit and Push**. Check that the updated files are selected in the opening dialog box.

When you look at your source code at the GitHub website, you can see that the new method is not there. This is because the new method is in the `feature` branch, and the `master` branch does not know anything about it. You can see the branches in the "Branches" tab in GitHub. Also, when you open a file in GitHub, you can see the branch name in the top left corner of the file:

![Branch name](images/git_branch_selector.png)

Just change the branch name to `feature` and you can see the new method in the source code.





## 4.1.3. Merging and merge conflicts

## 4.1.4. Commit comments




## Assignments

### Assignment 1: Branches and merging

### Assignment 2: Solving merge conflicts